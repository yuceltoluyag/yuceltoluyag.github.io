"use strict";function setupHeadings(){document.querySelectorAll(".article-content h2, .article-content h3, .article-content h4").forEach((e,t)=>{if(!e.id){const n=e.textContent.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");e.id="heading-".concat(n,"-").concat(t)}e.classList.add("scroll-mt-24")})}function createTocMarker(){const e=document.querySelector(".toc-content");if(!e)return;const t=document.createElement("div");t.className="absolute w-0.5 h-5 bg-primary rounded-full transition-transform duration-200 left-2",e.appendChild(t)}function enhanceTocLinks(){document.querySelectorAll(".toc-list-item a").forEach(e=>{e.classList.remove("toc-link"),e.classList.add("flex","items-center","text-base-content/80","hover:text-primary","transition-colors","py-1");const t=createDotIcon();e.insertBefore(t,e.firstChild)})}function updateActiveTocItem(){const e=Array.from(document.querySelectorAll(".article-content h2, .article-content h3, .article-content h4"));if(0===e.length)return;const t=window.scrollY+150;let n=null;for(let c=0;c<e.length;c++){const o=e[c],r=e[c+1],s=o.offsetTop,i=r?r.offsetTop:document.body.scrollHeight;if(t>=s&&t<i){n=o;break}}if(!n&&e.length>0){for(const c of e)if(c.offsetTop>t){n=c;break}n||(n=e[e.length-1])}markActiveTocItem(n)}function markActiveTocItem(e){if(!e)return;const t=document.querySelectorAll(".flex.items-center.text-base-content\\/80"),n=document.querySelector(".absolute.w-0\\.5.h-5.bg-primary");t.forEach(e=>{e.classList.remove("text-primary","font-medium")});const c=document.querySelector('.flex.items-center.text-base-content\\/80[href="#'.concat(e.id,'"]'));if(c&&(c.classList.add("text-primary","font-medium"),markReadItems(c),n)){const e=c.offsetTop;n.style.transform="translateY(".concat(e,"px)")}}function markReadItems(e){const t=Array.from(document.querySelectorAll(".flex.items-center.text-base-content\\/80")),n=t.indexOf(e);t.forEach((e,t)=>{t<n?e.classList.add("text-base-content/50"):e.classList.remove("text-base-content/50")})}function createDotIcon(){const e=document.createElement("span");return e.className="inline-flex mr-2",e.innerHTML='\n        <svg viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg" class="text-primary">\n            <line x1="0" y1="12" x2="8" y2="12" class="stroke-primary/30 stroke-1"></line>\n            <circle cx="14" cy="12" r="4" class="fill-primary/10 stroke-primary"></circle>\n        </svg>\n    ',e}function debounce(e,t){let n;return function(){const c=this,o=arguments;clearTimeout(n),n=setTimeout(()=>{e.apply(c,o)},t)}}document.addEventListener("DOMContentLoaded",function(){if(!document.querySelector(".toc-container"))return;0!==document.querySelectorAll(".toc-list-item").length&&(setupHeadings(),createTocMarker(),enhanceTocLinks(),window.addEventListener("scroll",debounce(updateActiveTocItem,100)),updateActiveTocItem())});