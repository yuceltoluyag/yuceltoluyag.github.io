"use strict";function _createForOfIteratorHelper(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,a=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){a=!0,i=e},f:function(){try{c||null==r.return||r.return()}finally{if(a)throw i}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector(".toc-container");if(e){var t=document.querySelector(".toc-content");if(t){var r;document.querySelectorAll(".article-content h2, .article-content h3, .article-content h4").forEach((function(e,t){if(!e.id){var r=e.textContent.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");e.id="heading-".concat(r,"-").concat(t)}e.classList.add("scroll-target"),function(e){"IntersectionObserver"in window&&(o||(o=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){var t=e.target.id;document.querySelector('.toc-href[href="#'.concat(t,'"]'))&&!a&&f(e.target,null,window.scrollY)}}))}),{rootMargin:"-100px 0px -80% 0px",threshold:0})),o.observe(e))}(e)})),(r=document.createElement("div")).className="toc-marker",t.appendChild(r),function(){var t=e.querySelectorAll(".toc-list-item a");if(0===t.length)return;t.forEach((function(e){e.classList.remove("toc-link"),e.classList.add("toc-href"),e.insertAdjacentHTML("afterbegin",'\n        <svg viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg">\n            <line x1="0" y1="12" x2="8" y2="12" class="toc-line"></line>\n            <circle cx="14" cy="12" r="4" class="toc-dot"></circle>\n        </svg>\n        '),e.addEventListener("click",l)})),function(){var t=e.querySelectorAll("a.toc-href");Array.from(t).map((function(e){var t=e.getAttribute("href").slice(1);return{id:t,header:document.getElementById(t),link:e}})).filter((function(e){return e.header}))}()}();var n,o,i=0,c="down",a=!1;window.addEventListener("scroll",(function(){if(!a){var e=window.scrollY;c=e>i?"down":"up",i=e,n&&window.cancelAnimationFrame(n),n=requestAnimationFrame((function(){s()}))}}),{passive:!0}),t.addEventListener("scroll",(function(){a=!0,clearTimeout(t.scrollTimeout),t.scrollTimeout=setTimeout((function(){a=!1}),1e3)}),{passive:!0}),s()}}function l(e){e.preventDefault();var t=this.getAttribute("href").slice(1),r=document.getElementById(t);r&&(e.stopPropagation(),a=!0,window.scrollTo({top:r.offsetTop-100,behavior:"smooth"}),history.pushState?history.pushState(null,null,"#".concat(t)):location.hash="#".concat(t),document.querySelectorAll(".toc-href").forEach((function(e){return e.classList.remove("toc-reading")})),this.classList.add("toc-reading"),setTimeout((function(){a=!1}),1e3))}function s(){if(!a){var e=window.scrollY+150,t=Array.from(document.querySelectorAll(".article-content h2, .article-content h3, .article-content h4"));if(0!==t.length){for(var r=null,n=null,o=0;o<t.length;o++){var i=t[o],c=t[o+1],l=i.offsetTop,s=c?c.offsetTop:document.body.scrollHeight;if(e>=l&&e<s){n=r,r=i;break}}if(!r&&t.length>0){var u,d=_createForOfIteratorHelper(t);try{for(d.s();!(u=d.n()).done;){var h=u.value;if(h.offsetTop>e){r=h;break}}}catch(e){d.e(e)}finally{d.f()}r||(r=t[t.length-1])}f(r,n,e)}}}function f(e,r,n){if(e){var o=document.querySelectorAll(".toc-href"),i=document.querySelector(".toc-marker");o.forEach((function(e){e.classList.remove("toc-reading")}));var l=document.querySelector('.toc-href[href="#'.concat(e.id,'"]'));if(l){if(l.classList.add("toc-reading"),function(e,t,r){var n=Array.from(t),o=n.indexOf(e);n.forEach((function(e,t){var i=e.getAttribute("href").slice(1),c=document.getElementById(i);if(c)if(t<o){e.classList.add("toc-already-read");var a=e.querySelector("circle");a&&a.setAttribute("stroke-dashoffset","0")}else if(t===o){var l;e.classList.add("toc-already-read");var s=document.getElementById(null===(l=n[t+1])||void 0===l?void 0:l.getAttribute("href").slice(1));if(s){var f=Math.min(100,(r-c.offsetTop)/(s.offsetTop-c.offsetTop)*100),u=e.querySelector("circle");u&&u.setAttribute("stroke-dashoffset",Math.round(100-f))}}else e.classList.remove("toc-already-read")}))}(l,o,n),i){var s=l.offsetTop;i.style.transform="translateY(".concat(s,"px)")}a||function(e){if(a)return;var r=e.closest("li");if(!r)return;t.getBoundingClientRect(),r.getBoundingClientRect();var n=r.offsetTop-t.offsetTop,o=t.scrollTop,i=o+t.clientHeight;if(n<o||n>i-r.clientHeight){var l;l="down"===c?n-.3*t.clientHeight:n-.7*t.clientHeight,l=Math.max(0,Math.min(l,t.scrollHeight-t.clientHeight)),t.scrollTo({top:l,behavior:"smooth"})}}(l)}}}}));