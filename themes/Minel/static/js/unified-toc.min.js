"use strict";function _createForOfIteratorHelper(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return c=t.done,t},e:function(t){i=!0,a=t},f:function(){try{c||null==r.return||r.return()}finally{if(i)throw a}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=Array(e);r<e;r++)o[r]=t[r];return o}document.addEventListener("DOMContentLoaded",(function(){var t,e=document.querySelector(".toc-container");e&&(document.querySelectorAll(".article-content h2, .article-content h3, .article-content h4").forEach((function(t,e){if(!t.id){var r=t.textContent.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");t.id="heading-".concat(r,"-").concat(e)}t.classList.add("scroll-target")})),function(){var t=document.querySelector(".toc-content");if(!t)return;var e=document.createElement("div");e.className="toc-marker",t.appendChild(e)}(),function(){var t=e.querySelectorAll(".toc-list-item a");if(0===t.length)return;t.forEach((function(t){t.classList.remove("toc-link"),t.classList.add("toc-href"),t.insertAdjacentHTML("afterbegin",'\n        <svg viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg">\n            <line x1="0" y1="12" x2="8" y2="12" class="toc-line"></line>\n            <circle cx="14" cy="12" r="4" class="toc-dot"></circle>\n        </svg>\n        '),t.addEventListener("click",r)})),function(){var t=e.querySelectorAll("a.toc-href");Array.from(t).map((function(t){var e=t.getAttribute("href").slice(1);return{id:e,header:document.getElementById(e),link:t}})).filter((function(t){return t.header}))}()}(),window.addEventListener("scroll",(function(){t&&window.cancelAnimationFrame(t),t=requestAnimationFrame((function(){o()}))}),{passive:!0}),o());function r(t){t.preventDefault();var e=this.getAttribute("href").slice(1),r=document.getElementById(e);r&&(t.stopPropagation(),window.scrollTo({top:r.offsetTop-100,behavior:"smooth"}),history.pushState?history.pushState(null,null,"#".concat(e)):location.hash="#".concat(e))}function o(){var t=window.scrollY+150,r=Array.from(document.querySelectorAll(".article-content h2, .article-content h3, .article-content h4"));if(0!==r.length){for(var o=null,n=null,a=0;a<r.length;a++){var c=r[a],i=r[a+1],l=c.offsetTop,f=i?i.offsetTop:document.body.scrollHeight;if(t>=l&&t<f){n=o,o=c;break}}if(!o&&r.length>0){var s,u=_createForOfIteratorHelper(r);try{for(u.s();!(s=u.n()).done;){var d=s.value;if(d.offsetTop>t){o=d;break}}}catch(t){u.e(t)}finally{u.f()}o||(o=r[r.length-1])}!function(t,r,o){if(!t)return;var n=document.querySelectorAll(".toc-href"),a=document.querySelector(".toc-marker");n.forEach((function(t){t.classList.remove("toc-reading")}));var c=document.querySelector('.toc-href[href="#'.concat(t.id,'"]'));if(!c)return;if(c.classList.add("toc-reading"),function(t,e,r){var o=Array.from(e),n=o.indexOf(t);o.forEach((function(t,e){var a=t.getAttribute("href").slice(1),c=document.getElementById(a);if(c)if(e<n){t.classList.add("toc-already-read");var i=t.querySelector("circle");i&&i.setAttribute("stroke-dashoffset","0")}else if(e===n){var l;t.classList.add("toc-already-read");var f=document.getElementById(null===(l=o[e+1])||void 0===l?void 0:l.getAttribute("href").slice(1));if(f){var s=Math.min(100,(r-c.offsetTop)/(f.offsetTop-c.offsetTop)*100),u=t.querySelector("circle");u&&u.setAttribute("stroke-dashoffset",Math.round(100-s))}}else t.classList.remove("toc-already-read")}))}(c,n,o),a){var i=c.offsetTop;a.style.transform="translateY(".concat(i,"px)")}!function(t,r){var o=t.parentElement,n=e.getBoundingClientRect(),a=o.getBoundingClientRect(),c=r&&r.offsetTop>o.offsetTop;if(a.top<n.top||a.bottom>n.bottom){var i=c?.7*e.clientHeight:.3*e.clientHeight;e.scrollTo({top:o.offsetTop-i,behavior:"smooth"})}}(c,r)}(o,n,t)}}}));
//# sourceMappingURL=unified-toc.min.js.map
