"use strict";document.addEventListener("DOMContentLoaded",(function(){const t="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname||window.location.hostname.includes("192.168."),e=window.debugLog||function(e){if(t){for(var o=arguments.length,n=new Array(o>1?o-1:0),r=1;r<o;r++)n[r-1]=arguments[r];console.log(e,...n)}};if(!document.querySelector(".toc-container"))return void e("TOC container bulunamadı");const o=document.querySelector(".toc-content");if(!o)return void e("TOC content bulunamadı");const n=document.getElementById("toc");if(!n)return void e("TOC div bulunamadı");e("TOC başlatılıyor...");let r,i=0,c="down",l=!1,s=null;function a(t){t.preventDefault();const e=this.getAttribute("href").slice(1),o=document.getElementById(e);if(o){t.stopPropagation(),l=!0,window.scrollTo({top:o.offsetTop-100,behavior:"smooth"}),history.pushState?history.pushState(null,null,`#${e}`):location.hash=`#${e}`;document.querySelectorAll(".toc-href").forEach((t=>t.classList.remove("text-primary","font-medium"))),this.classList.add("text-primary","font-medium"),setTimeout((()=>{l=!1}),1e3)}}function u(){if(l)return;const t=window.scrollY+150,e=Array.from(document.querySelectorAll(".prose h2, .prose h3, .prose h4"));if(0===e.length)return;let o=null,n=null;for(let r=0;r<e.length;r++){const i=e[r],c=e[r+1],l=i.offsetTop,s=c?c.offsetTop:document.body.scrollHeight;if(t>=l&&t<s){n=o,o=i;break}}if(!o&&e.length>0){for(const n of e)if(n.offsetTop>t){o=n;break}o||(o=e[e.length-1])}d(o,n,t)}function d(t,e,n){if(!t)return;const r=document.querySelectorAll(".toc-href");r.forEach((t=>{t.classList.remove("text-primary","font-medium","active")}));const i=document.querySelector(`.toc-href[href="#${t.id}"]`);i&&(i.classList.add("text-primary","font-medium","active"),function(t,e){const o=Array.from(e),n=o.indexOf(t);o.forEach(((t,e)=>{e<n?t.classList.add("text-base-content/50"):e===n?t.classList.add("text-base-content/90"):t.classList.remove("text-base-content/50","text-base-content/90")}))}(i,r),l||function(t){if(l)return;const e=t.closest("li");if(!e)return;const n=o.getBoundingClientRect(),r=t.getBoundingClientRect(),i=r.top-n.top+o.scrollTop,s=i+r.height,a=o.scrollTop,u=a+o.clientHeight;if(i<a||s>u){let t;t="down"===c?i-.2*o.clientHeight:i-.8*o.clientHeight,t=Math.max(0,Math.min(t,o.scrollHeight-o.clientHeight)),o.scrollTo({top:t,behavior:"smooth"})}}(i))}o.style.overflow="auto",o.style.maxHeight="250px",function(){const t=document.querySelectorAll(".prose h2, .prose h3, .prose h4");e("Bulunan başlık sayısı:",t.length),t.forEach(((t,e)=>{if(!t.id){const o=t.textContent.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");t.id=`heading-${o}-${e}`}t.classList.add("scroll-mt-24"),function(t){if(!("IntersectionObserver"in window))return;s||(s=new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting){const e=t.target.id,o=document.querySelector(`.toc-href[href="#${e}"]`);o&&!l&&(document.querySelectorAll(".toc-href").forEach((t=>{t.classList.remove("active","text-primary","font-medium")})),o.classList.add("active","text-primary","font-medium"),d(t.target,null,window.scrollY))}}))}),{rootMargin:"-80px 0px -70% 0px",threshold:[0,.1,.2,.5]}));s.observe(t)}(t)}))}(),function(){const t=o.querySelector(".toc-marker");t&&t.remove()}(),function(){const t=n.querySelectorAll("a");if(0===t.length)return void e("TOC linkleri bulunamadı");e("TOC linkleri bulundu:",t.length),t.forEach((t=>{t.classList.remove("toc-link"),t.classList.add("toc-href","text-base-content/70","hover:text-primary","transition-colors","relative"),t.addEventListener("click",a)})),function(){const t=n.querySelectorAll("a.toc-href");Array.from(t).map((t=>{const e=t.getAttribute("href").slice(1);return{id:e,header:document.getElementById(e),link:t}})).filter((t=>t.header))}()}(),window.addEventListener("scroll",(function(){const t=window.scrollY;c=t>i?"down":"up",i=t,r&&window.cancelAnimationFrame(r),r=requestAnimationFrame((()=>{l||u()}))}),{passive:!0}),o.addEventListener("scroll",(function(){l=!0,clearTimeout(o.scrollTimeout),o.scrollTimeout=setTimeout((()=>{l=!1}),1e3)}),{passive:!0}),setTimeout((()=>{u()}),100)}));