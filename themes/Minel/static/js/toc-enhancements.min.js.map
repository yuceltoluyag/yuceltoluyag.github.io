{"version":3,"sources":["toc-enhancements.js"],"names":["_createForOfIteratorHelper","r","e","t","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","_n","F","s","n","done","value","f","TypeError","o","a","u","call","next","_arrayLikeToArray","toString","slice","constructor","name","from","test","setupHeadings","document","querySelectorAll","forEach","heading","index","id","textContent","toLowerCase","replace","concat","classList","add","createTocMarker","tocContent","querySelector","marker","createElement","className","appendChild","enhanceTocLinks","link","remove","dotIcon","createDotIcon","insertBefore","firstChild","updateActiveTocItem","headings","scrollPosition","window","scrollY","currentHeading","i","nextHeading","headingTop","offsetTop","nextHeadingTop","body","scrollHeight","_step","_iterator","err","markActiveTocItem","activeHeading","allTocLinks","activeLink","markReadItems","linkTop","style","transform","allLinks","activeIndex","indexOf","iconContainer","innerHTML","debounce","func","wait","timeout","context","this","args","arguments","clearTimeout","setTimeout","apply","addEventListener"],"mappings":"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","file":"toc-enhancements.min.js","sourcesContent":["/**\n * İçindekiler Tablosu (TOC) için Gelişmiş Özellikler\n * Geliştirilmiş okuma takibi ve navigasyon özellikleri\n */\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n    const tocContainer = document.querySelector(\".toc-container\");\n    if (!tocContainer) return;\n\n    // İçindekiler listesini seç\n    const tocItems = document.querySelectorAll(\".toc-list-item\");\n    if (tocItems.length === 0) return;\n\n    // Tüm başlıkları seç ve ID'leri yoksa oluştur\n    setupHeadings();\n\n    // TOC marker'ı oluştur\n    createTocMarker();\n\n    // TOC linklerini geliştir\n    enhanceTocLinks();\n\n    // Scroll olayını dinle ve aktif başlığı güncelle\n    window.addEventListener(\"scroll\", debounce(updateActiveTocItem, 100));\n\n    // Sayfa yüklendiğinde aktif başlığı belirle\n    updateActiveTocItem();\n});\n\n/**\n * Başlıkları hazırla, ID'leri yoksa otomatik ekle\n */\nfunction setupHeadings() {\n    const headings = document.querySelectorAll(\".article-content h2, .article-content h3, .article-content h4\");\n\n    headings.forEach((heading, index) => {\n        if (!heading.id) {\n            // ID yoksa, başlık metninden ID oluştur\n            const id = heading.textContent\n                .toLowerCase()\n                .replace(/[^\\w\\s-]/g, \"\")\n                .replace(/\\s+/g, \"-\");\n\n            heading.id = `heading-${id}-${index}`;\n        }\n\n        // Görünür hale gelmesi için başlıklara sınıf ekle\n        heading.classList.add(\"scroll-target\");\n    });\n}\n\n/**\n * İçindekiler marker'ı oluştur\n */\nfunction createTocMarker() {\n    const tocContent = document.querySelector(\".toc-content\");\n    if (!tocContent) return;\n\n    const marker = document.createElement(\"div\");\n    marker.className = \"toc-marker\";\n    tocContent.appendChild(marker);\n}\n\n/**\n * TOC linklerini geliştir\n * SVG icon ekle ve sınıfları düzenle\n */\nfunction enhanceTocLinks() {\n    const links = document.querySelectorAll(\".toc-list-item a\");\n\n    links.forEach((link) => {\n        // Link stillerini düzenle\n        link.classList.remove(\"toc-link\");\n        link.classList.add(\"toc-href\");\n\n        // SVG ikon ekle\n        const dotIcon = createDotIcon();\n        link.insertBefore(dotIcon, link.firstChild);\n    });\n}\n\n/**\n * Scroll olayında aktif başlığı belirle\n */\nfunction updateActiveTocItem() {\n    const headings = Array.from(\n        document.querySelectorAll(\".article-content h2, .article-content h3, .article-content h4\")\n    );\n    if (headings.length === 0) return;\n\n    // Viewport'un üst kısmından 100px aşağısını eşik kabul et\n    const scrollPosition = window.scrollY + 150;\n\n    // Görünür olan başlıkları bul\n    let currentHeading = null;\n\n    // Hangi başlığın görünür olduğunu belirle\n    for (let i = 0; i < headings.length; i++) {\n        const heading = headings[i];\n        const nextHeading = headings[i + 1];\n\n        const headingTop = heading.offsetTop;\n        const nextHeadingTop = nextHeading ? nextHeading.offsetTop : document.body.scrollHeight;\n\n        // Eğer scroll pozisyonu, başlık ile bir sonraki başlık arasındaysa veya son başlıksa\n        if (scrollPosition >= headingTop && scrollPosition < nextHeadingTop) {\n            currentHeading = heading;\n            break;\n        }\n    }\n\n    // Eğer görünür başlık yoksa ilk görünür başlığı bul\n    if (!currentHeading && headings.length > 0) {\n        for (const heading of headings) {\n            if (heading.offsetTop > scrollPosition) {\n                currentHeading = heading;\n                break;\n            }\n        }\n\n        // Hala bulunamadıysa, son başlığı seç\n        if (!currentHeading) {\n            currentHeading = headings[headings.length - 1];\n        }\n    }\n\n    // Aktif başlığı işaretle\n    markActiveTocItem(currentHeading);\n}\n\n/**\n * Aktif başlık için TOC öğesini işaretle\n */\nfunction markActiveTocItem(activeHeading) {\n    if (!activeHeading) return;\n\n    const allTocLinks = document.querySelectorAll(\".toc-href\");\n    const marker = document.querySelector(\".toc-marker\");\n\n    // Önce tüm aktif sınıfları kaldır\n    allTocLinks.forEach((link) => {\n        link.classList.remove(\"toc-reading\");\n    });\n\n    // ID'ye göre aktif linki bul\n    const activeLink = document.querySelector(`.toc-href[href=\"#${activeHeading.id}\"]`);\n    if (!activeLink) return;\n\n    // Aktif linke sınıf ekle\n    activeLink.classList.add(\"toc-reading\");\n\n    // Daha önce okunan başlıkları işaretle\n    markReadItems(activeLink);\n\n    // Marker pozisyonunu güncelle\n    if (marker) {\n        const linkTop = activeLink.offsetTop;\n        marker.style.transform = `translateY(${linkTop}px)`;\n    }\n}\n\n/**\n * Okunan başlıkları işaretle\n */\nfunction markReadItems(activeLink) {\n    const allLinks = Array.from(document.querySelectorAll(\".toc-href\"));\n    const activeIndex = allLinks.indexOf(activeLink);\n\n    // Aktif linkten önceki tüm linkleri \"okundu\" olarak işaretle\n    allLinks.forEach((link, index) => {\n        if (index < activeIndex) {\n            link.classList.add(\"toc-already-read\");\n        } else {\n            link.classList.remove(\"toc-already-read\");\n        }\n    });\n}\n\n/**\n * Nokta şeklindeki SVG ikon oluştur\n */\nfunction createDotIcon() {\n    const iconContainer = document.createElement(\"span\");\n    iconContainer.className = \"toc-icon\";\n\n    // SVG ikonu oluştur\n    iconContainer.innerHTML = `\n        <svg viewBox=\"0 0 24 24\" width=\"18\" height=\"18\" xmlns=\"http://www.w3.org/2000/svg\">\n            <line x1=\"0\" y1=\"12\" x2=\"8\" y2=\"12\" class=\"toc-line\"></line>\n            <circle cx=\"14\" cy=\"12\" r=\"4\" class=\"toc-dot\"></circle>\n        </svg>\n    `;\n\n    return iconContainer;\n}\n\n/**\n * Debounce fonksiyonu - scroll performansı için\n */\nfunction debounce(func, wait) {\n    let timeout;\n    return function () {\n        const context = this;\n        const args = arguments;\n        clearTimeout(timeout);\n        timeout = setTimeout(() => {\n            func.apply(context, args);\n        }, wait);\n    };\n}\n"]}