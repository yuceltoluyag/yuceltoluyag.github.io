"use strict";!function(){const e=document.querySelector(".webmentions-content");if(!e)return;let n=window.location.href.split("#")[0].split("?")[0];n.includes("localhost:8000")&&(n=n.replace("http://localhost:8000","https://yuceltoluyag.github.io"));const t=`https://webmention.io/api/mentions.jf2?target=${encodeURIComponent(n)}&token=-WNw5YpxvCMIj8LDM0bScg`;function a(e){const n=document.createElement("div");n.className="chat chat-start bg-base-100 rounded-md p-3";const t=document.createElement("div");if(t.className="chat-header flex items-center gap-2",e.author.photo){const n=document.createElement("div");n.className="avatar";const a=document.createElement("div");a.className="w-8 h-8 rounded-full";const c=document.createElement("img");c.src=e.author.photo,c.alt=e.author.name,a.appendChild(c),n.appendChild(a),t.appendChild(n)}else{const e=document.createElement("div");e.className="avatar placeholder";const n=document.createElement("div");n.className="w-8 h-8 rounded-full bg-base-200",n.innerHTML='<iconify-icon icon="tabler:user" class="w-5 h-5"></iconify-icon>',e.appendChild(n),t.appendChild(e)}const a=document.createElement("a");if(a.className="font-medium",a.href=e.author.url||"#",a.target="_blank",a.rel="noopener",a.textContent=e.author.name,t.appendChild(a),e.published){const n=document.createElement("time");n.className="text-xs opacity-60 ml-auto",n.dateTime=e.published;const a=new Date(e.published),c={year:"numeric",month:"long",day:"numeric"};n.textContent=a.toLocaleDateString("tr-TR",c),t.appendChild(n)}if(n.appendChild(t),e.content&&e.content.text){const t=document.createElement("div");t.className="chat-bubble chat-bubble-primary bg-opacity-10 text-base-content mt-2",t.textContent=e.content.text,n.appendChild(t)}const c=document.createElement("div");c.className="chat-footer mt-1 opacity-70 text-xs flex justify-between items-center";const i=document.createElement("a");return i.href=e.url,i.target="_blank",i.rel="noopener",i.className="flex items-center gap-1 link link-hover",i.innerHTML='<iconify-icon icon="tabler:external-link"></iconify-icon> Kaynağa git',c.appendChild(i),n.appendChild(c),n}function c(){const n=document.createElement("div");n.className="card bg-base-200 shadow-sm p-5 my-4";const t=document.createElement("div");t.className="flex items-center gap-4";const a=document.createElement("div");a.className="text-primary bg-primary/10 p-3 rounded-full animate-pulse",a.innerHTML='<iconify-icon icon="tabler:message-circle-off" width="28" height="28"></iconify-icon>';const c=document.createElement("div"),i=document.createElement("div");i.className="font-medium text-lg",i.textContent="Henüz webmention yok";const o=document.createElement("div");o.className="text-sm opacity-70",o.textContent="Bu makaleye yanıt vermek için kendi web sitenizden bir bağlantı oluşturun.",c.appendChild(i),c.appendChild(o);const l=document.createElement("div");l.className="absolute bottom-2 right-2 opacity-10",l.innerHTML='\n            <iconify-icon icon="tabler:message-circle-2" width="16" height="16" class="inline-block mr-1"></iconify-icon>\n            <iconify-icon icon="tabler:message-circle" width="20" height="20" class="inline-block mr-1"></iconify-icon>\n            <iconify-icon icon="tabler:message-dots" width="14" height="14" class="inline-block"></iconify-icon>\n        ',t.appendChild(a),t.appendChild(c),n.appendChild(t),n.appendChild(l);const s=document.createElement("style");s.textContent="\n            @keyframes subtle-float {\n                0%, 100% { transform: translateY(0); }\n                50% { transform: translateY(-5px); }\n            }\n            .animate-pulse {\n                animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n            }\n            @keyframes pulse {\n                0%, 100% { opacity: 1; }\n                50% { opacity: .7; }\n            }\n            @keyframes spin-slow {\n                from { transform: rotate(0deg); }\n                to { transform: rotate(360deg); }\n            }\n            .animate-spin-slow {\n                animation: spin-slow 3s linear infinite;\n            }\n            @keyframes bounce {\n                0%, 100% { transform: translateY(0); }\n                50% { transform: translateY(-25%); }\n            }\n            .animate-bounce {\n                animation: bounce 1s ease-in-out infinite;\n            }\n        ",document.head.appendChild(s),e.innerHTML="",e.appendChild(n)}window.WEBMENTION_TEST_MODE&&(console.log("Current URL:",n),console.log("API Endpoint:",t)),fetch(t).then(e=>e.json()).then(n=>{n.children&&n.children.length>0?function(n){const t=document.createElement("div");t.className="space-y-6";const c={likes:[],reposts:[],replies:[]};if(n.forEach(e=>{e.author&&e.author.name&&(e.url&&e.url.includes("#favorited-by-")?c.likes.push(e):e.url&&e.url.includes("#reblogged-by-")?c.reposts.push(e):c.replies.push(e))}),c.likes.length>0){const e=document.createElement("div");e.className="card bg-base-100 shadow-xs";const n=document.createElement("div");n.className="card-body p-4";const a=document.createElement("h3");a.className="card-title text-lg flex items-center mb-3",a.innerHTML=`<iconify-icon icon="tabler:heart" class="mr-2"></iconify-icon> Beğenenler (${c.likes.length})`,n.appendChild(a);const i=document.createElement("div");i.className="flex flex-wrap gap-2",c.likes.forEach(e=>{const n=document.createElement("div"),t=e.url.split("#")[0],a=document.createElement("a");a.href=t,a.target="_blank",a.rel="noopener",a.title=`${e.author.name} tarafından beğenildi`,a.className="avatar tooltip",a.setAttribute("data-tip",e.author.name);const c=document.createElement("div");if(c.className="w-10 rounded-full",e.author.photo){const n=document.createElement("img");n.src=e.author.photo,n.alt=e.author.name,c.appendChild(n)}else c.innerHTML='<iconify-icon icon="tabler:user" class="w-full h-full p-2 bg-base-200"></iconify-icon>';a.appendChild(c),n.appendChild(a),i.appendChild(n)}),n.appendChild(i),e.appendChild(n),t.appendChild(e)}if(c.reposts.length>0){const e=document.createElement("div");e.className="card bg-base-100 shadow-xs";const n=document.createElement("div");n.className="card-body p-4";const i=document.createElement("h3");i.className="card-title text-lg flex items-center mb-3",i.innerHTML=`<iconify-icon icon="tabler:repeat" class="mr-2"></iconify-icon> Paylaşanlar (${c.reposts.length})`,n.appendChild(i);const o=document.createElement("div");o.className="space-y-4",c.reposts.forEach(e=>{const n=a(e);o.appendChild(n)}),n.appendChild(o),e.appendChild(n),t.appendChild(e)}if(c.replies.length>0){const e=document.createElement("div");e.className="card bg-base-100 shadow-xs";const n=document.createElement("div");n.className="card-body p-4";const i=document.createElement("h3");i.className="card-title text-lg flex items-center mb-3",i.innerHTML=`<iconify-icon icon="tabler:message-circle" class="mr-2"></iconify-icon> Yanıtlar (${c.replies.length})`,n.appendChild(i);const o=document.createElement("div");o.className="space-y-4",c.replies.forEach(e=>{const n=a(e);o.appendChild(n)}),n.appendChild(o),e.appendChild(n),t.appendChild(e)}e.innerHTML="",e.appendChild(t),window.WEBMENTION_TEST_MODE&&console.log("Interactions:",c)}(n.children):c()}).catch(e=>{console.error("Webmention verileri alınırken hata oluştu:",e),c()})}();