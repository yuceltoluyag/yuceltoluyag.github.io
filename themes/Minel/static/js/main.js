"use strict";document.addEventListener("DOMContentLoaded",(function(){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=document.querySelector("header");t&&window.addEventListener("scroll",(function(){window.scrollY>50?t.classList.add("shadow-md"):t.classList.remove("shadow-md")}));document.querySelectorAll('a[href^="http"]:not([href*="'+window.location.hostname+'"])').forEach((e=>{e.hasAttribute("target")||(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))})),document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach((e=>{e.addEventListener("click",(function(e){const t=this.getAttribute("href").substring(1),a=document.getElementById(t);a&&(e.preventDefault(),window.scrollTo({top:a.offsetTop-80,behavior:"smooth"}),window.history.pushState(null,null,"#"+t))}))}));const a=document.querySelector(".search-trigger"),c=document.querySelectorAll(".search-trigger"),o=document.querySelector("#search-modal")||document.getElementById("search-modal"),s=document.querySelector("#search-input")||document.getElementById("search-input"),n=document.getElementById("close-search-modal");a&&o&&o.showModal?a.addEventListener("click",(function(e){e.preventDefault(),console.log("Arama modalı açılıyor (main.js)"),o.showModal(),s&&setTimeout((()=>{s.focus()}),100)})):c.length>0&&o&&n&&(c.forEach((e=>{e.addEventListener("click",(function(e){e.preventDefault(),o.classList.remove("hidden"),o.classList.add("flex"),s&&setTimeout((()=>{s.focus()}),100)}))})),n.addEventListener("click",(function(){o.classList.add("hidden"),o.classList.remove("flex")})),document.addEventListener("keydown",(function(e){"Escape"!==e.key||o.classList.contains("hidden")||(o.classList.add("hidden"),o.classList.remove("flex"))})),o.addEventListener("click",(function(e){e.target===o&&(o.classList.add("hidden"),o.classList.remove("flex"))}))),document.querySelectorAll("pre").forEach((e=>{if(!e.querySelector("code"))return;if(e.querySelector(".btn-copy"))return;const t=document.createElement("button");t.className="btn btn-xs btn-ghost btn-copy absolute top-2 right-2",t.setAttribute("type","button"),t.setAttribute("aria-label","Kodu kopyala"),t.setAttribute("role","button"),t.innerHTML='<span class="iconify" data-icon="tabler:copy"></span>',e.style.position="relative",e.appendChild(t),t.addEventListener("click",(()=>{const a=e.querySelector("code").textContent;navigator.clipboard.writeText(a).then((()=>{t.classList.add("btn-success"),t.setAttribute("aria-label","Kod kopyalandı"),t.innerHTML='<span class="iconify" data-icon="tabler:check"></span>',setTimeout((()=>{t.classList.remove("btn-success"),t.setAttribute("aria-label","Kodu kopyala"),t.innerHTML='<span class="iconify" data-icon="tabler:copy"></span>'}),2e3)})).catch((()=>{const e=document.createElement("textarea");e.value=a,e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy"),t.classList.add("btn-success"),t.setAttribute("aria-label","Kod kopyalandı"),t.innerHTML='<span class="iconify" data-icon="tabler:check"></span>',setTimeout((()=>{t.classList.remove("btn-success"),t.setAttribute("aria-label","Kodu kopyala"),t.innerHTML='<span class="iconify" data-icon="tabler:copy"></span>'}),2e3)}catch(e){console.error("Kopyalama işlemi başarısız oldu: ",e)}document.body.removeChild(e)}))}))})),document.querySelectorAll("pre").forEach((e=>{const t=e.querySelector("code");if(!t)return;const a=t.className.split(" ");let c="";for(const e of a)if(e.startsWith("language-")){c=e.replace("language-","");break}if(c){const t=document.createElement("div");t.className="badge badge-sm absolute top-2 left-2 bg-primary/10 text-primary",t.textContent=c,e.appendChild(t)}}));let r="true"===localStorage.getItem("dark-mode")||!1;e.matches&&(r=!0);const l=document.querySelectorAll("img[data-src]");if("IntersectionObserver"in window){const e=new IntersectionObserver((function(t,a){t.forEach((function(t){if(t.isIntersecting){const a=t.target;a.src=a.dataset.src,a.dataset.srcset&&(a.srcset=a.dataset.srcset),a.classList.add("opacity-100"),e.unobserve(a)}}))}));l.forEach((function(t){e.observe(t)}))}else l.forEach((function(e){e.src=e.dataset.src,e.dataset.srcset&&(e.srcset=e.dataset.srcset),e.classList.add("opacity-100")}));const d=document.querySelectorAll(".theme-controller"),i=localStorage.getItem("theme")||"dark";"light"===i||"autumn"===i?(d.forEach((e=>{e.checked=!0})),document.documentElement.setAttribute("data-theme","autumn")):(d.forEach((e=>{e.checked=!1})),document.documentElement.setAttribute("data-theme","dim")),d.forEach((e=>{e.addEventListener("change",(function(){this.checked?(document.documentElement.setAttribute("data-theme","autumn"),localStorage.setItem("theme","light"),d.forEach((e=>{e.checked=!0}))):(document.documentElement.setAttribute("data-theme","dim"),localStorage.setItem("theme","dark"),d.forEach((e=>{e.checked=!1})))}))}))}));