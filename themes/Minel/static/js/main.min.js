document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".menu-toggle"),t=document.querySelector(".site-navigation"),n=document.body,o=document.createElement("div");if(o.className="menu-overlay",document.body.appendChild(o),e){e.addEventListener("click",(function(){const e="true"===this.getAttribute("aria-expanded");this.setAttribute("aria-expanded",!e),t.classList.toggle("toggled"),n.classList.toggle("menu-open")})),o.addEventListener("click",(function(){t.classList.contains("toggled")&&(e.setAttribute("aria-expanded","false"),t.classList.remove("toggled"),n.classList.remove("menu-open"))}));document.querySelectorAll(".menu-item-has-children").forEach((e=>{const t=e.querySelector(".menu-link");t&&window.innerWidth<=768&&t.addEventListener("click",(function(t){window.innerWidth<=768&&(t.preventDefault(),e.classList.toggle("submenu-open"))}))})),window.addEventListener("resize",(function(){window.innerWidth>768&&(n.classList.remove("menu-open"),t.classList.contains("toggled")&&(t.classList.remove("toggled"),e.setAttribute("aria-expanded","false")))})),document.addEventListener("keydown",(function(o){"Escape"===o.key&&t.classList.contains("toggled")&&(e.setAttribute("aria-expanded","false"),t.classList.remove("toggled"),n.classList.remove("menu-open"))}))}window.matchMedia("(prefers-color-scheme: dark)");const r=document.querySelector(".site-header");r&&window.addEventListener("scroll",(function(){window.scrollY>50?r.classList.add("scrolled"):r.classList.remove("scrolled")}));document.querySelectorAll('a[href^="http"]:not([href*="'+window.location.hostname+'"])').forEach((e=>{e.hasAttribute("target")||(e.setAttribute("target","_blank"),e.setAttribute("rel","noopener noreferrer"))})),document.querySelectorAll('a[href^="#"]:not([href="#"])').forEach((e=>{e.addEventListener("click",(function(e){const t=this.getAttribute("href").substring(1),n=document.getElementById(t);n&&(e.preventDefault(),window.scrollTo({top:n.offsetTop-80,behavior:"smooth"}),window.history.pushState(null,null,"#"+t))}))}));const c=document.querySelector(".search-link"),s=document.querySelector(".search-modal"),a=document.querySelector(".search-modal-close"),i=document.querySelector(".search-input");c&&s&&c.addEventListener("click",(function(e){e.preventDefault(),s.classList.add("active"),document.body.classList.add("search-modal-open"),i&&setTimeout((()=>{i.focus()}),100)})),a&&s&&(a.addEventListener("click",(function(){s.classList.remove("active"),document.body.classList.remove("search-modal-open")})),s.addEventListener("click",(function(e){e.target===this&&(s.classList.remove("active"),document.body.classList.remove("search-modal-open"))})),document.addEventListener("keydown",(function(e){"Escape"===e.key&&s.classList.contains("active")&&(s.classList.remove("active"),document.body.classList.remove("search-modal-open"))}))),document.querySelectorAll("pre").forEach((e=>{const t=e.querySelector("code");if(!t)return;if(e.querySelector(".copy-button"))return;const n=document.createElement("button");n.className="copy-button",n.setAttribute("type","button"),n.setAttribute("aria-label","Kodu kopyala"),n.setAttribute("role","button"),e.appendChild(n),n.addEventListener("click",(()=>{const t=e.querySelector("code").textContent;navigator.clipboard.writeText(t).then((()=>{n.classList.add("copied"),n.setAttribute("aria-label","Kod kopyalandı"),setTimeout((()=>{n.classList.remove("copied"),n.setAttribute("aria-label","Kodu kopyala")}),2e3)})).catch((()=>{const e=document.createElement("textarea");e.value=t,e.style.position="fixed",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy"),n.classList.add("copied"),n.setAttribute("aria-label","Kod kopyalandı"),setTimeout((()=>{n.classList.remove("copied"),n.setAttribute("aria-label","Kodu kopyala")}),2e3)}catch(e){n.classList.add("error"),n.setAttribute("aria-label","Kopyalanamadı"),setTimeout((()=>{n.classList.remove("error"),n.setAttribute("aria-label","Kodu kopyala")}),2e3)}document.body.removeChild(e)}))}));new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&(n.style.opacity="1")}))})).observe(e);let o="";if(t.className){const n=t.className.match(/language-(\w+)/);if(n&&n[1]&&(o=n[1],!e.querySelector(".filename"))){const t=document.createElement("span");t.className="filename",t.textContent=o.toUpperCase(),e.insertBefore(t,e.firstChild)}}const r=t.textContent.length,c=parseInt(window.getComputedStyle(t).lineHeight)||20;if(r>500){e.style.maxHeight=10*c+"px",e.style.overflow="hidden";const t=document.createElement("div");t.className="show-more-button-container";const n=document.createElement("button");n.className="show-more-button",n.textContent="Daha Fazla Göster",n.setAttribute("aria-expanded","false"),t.appendChild(n),e.parentNode.insertBefore(t,e.nextSibling),n.addEventListener("click",(function(){"true"===this.getAttribute("aria-expanded")?(e.style.maxHeight=10*c+"px",e.classList.remove("expanded"),this.textContent="Daha Fazla Göster",this.setAttribute("aria-expanded","false")):(e.style.maxHeight=e.scrollHeight+"px",e.classList.add("expanded"),this.textContent="Daha Az Göster",this.setAttribute("aria-expanded","true"))}))}})),window.initializeTOC=function(){const e=document.querySelector(".toc");if(!e)return;const t=e.querySelectorAll("a"),n=Array.from(document.querySelectorAll("h2, h3, h4, h5, h6")).filter((e=>e.id)),o=new IntersectionObserver((e=>{e.forEach((e=>{if(e.isIntersecting){t.forEach((e=>e.classList.remove("active")));const n=Array.from(t).find((t=>t.getAttribute("href")===`#${e.target.id}`));n&&n.classList.add("active")}}))}),{rootMargin:"-100px 0px -66%",threshold:0});n.forEach((e=>o.observe(e))),t.forEach((e=>{e.addEventListener("click",(t=>{t.preventDefault();const n=e.getAttribute("href").substring(1),o=document.getElementById(n);o&&(window.scrollTo({top:o.offsetTop-80,behavior:"smooth"}),history.pushState(null,null,`#${n}`))}))}))},window.initializeSearch=function(){const e=document.querySelector(".search-form"),t=document.querySelector(".search-input"),n=document.querySelector(".search-results"),o=document.querySelector(".search-results-list");if(!e||!t)return;const r=new URLSearchParams(window.location.search).get("q"),c=e=>{e&&""!==e.trim()&&fetch("/search-data.json").then((e=>e.json())).then((t=>{const r=t.filter((t=>t.title.toLowerCase().includes(e.toLowerCase())||t.content&&t.content.toLowerCase().includes(e.toLowerCase())));if(o){if(o.innerHTML="",0===r.length){const e=document.createElement("li");e.className="search-no-results",e.textContent="Sonuç bulunamadı",o.appendChild(e)}else r.forEach((e=>{const t=document.createElement("li");t.className="search-result-item";const n=document.createElement("a");n.href=e.url,n.className="search-result-link";const r=document.createElement("h3");r.className="search-result-title",r.textContent=e.title;const c=document.createElement("p");c.className="search-result-snippet",c.textContent=e.snippet||"İçerik önizlemesi mevcut değil",n.appendChild(r),n.appendChild(c),t.appendChild(n),o.appendChild(t)}));n&&n.classList.add("active")}})).catch((e=>{}))};r&&(t.value=r,c(r)),e.addEventListener("submit",(e=>{e.preventDefault();const n=t.value.trim();if(n){const e=new URL(window.location.href);e.searchParams.set("q",n),window.history.pushState({},"",e),c(n)}}))},document.querySelector(".toc")&&window.initializeTOC(),window.initializeSearch()}));let e=[],t=null;const n=document.getElementById("search-modal"),o=document.getElementById("search-form"),r=document.getElementById("search-input"),c=document.getElementById("search-results"),s=document.querySelectorAll(".search-trigger"),a=document.querySelector(".search-modal-close");async function i(){try{const t=await fetch("/search.json");if(!t.ok)throw new Error("Arama verileri yüklenemedi");e=await t.json(),l()}catch(e){}}function l(){e.forEach((e=>{e._searchTitle=e.title?.toLowerCase()||"",e._searchCategory=e.category?.toLowerCase()||"",e._searchTags=e.tags?.join(" ").toLowerCase()||""}))}function d(){n.classList.add("show"),document.body.classList.add("search-modal-open"),setTimeout((()=>{r.focus()}),100)}function u(){n.classList.remove("show"),document.body.classList.remove("search-modal-open"),r.value="",c.innerHTML=""}function m(e){e.target===n&&u()}let h=null;function f(t){if(!t.trim())return void(c.innerHTML='<p class="search-no-results">Arama sorgusu giriniz</p>');const n=t.toLowerCase();p(e.filter((e=>e._searchTitle.includes(n)||e._searchCategory.includes(n)||e._searchTags.includes(n))),t)}function p(e,t){if(c.innerHTML="",0===e.length)return void(c.innerHTML=`<p class="search-no-results">"${t}" için sonuç bulunamadı</p>`);const n=document.createDocumentFragment(),o=document.createElement("div");o.className="search-results-container",e.forEach((e=>{const n=document.createElement("article");n.className="search-result-item";const r=new Date(e.date).toLocaleDateString("tr-TR",{year:"numeric",month:"long",day:"numeric"}),c=window.location.origin;let s=e.url;s.startsWith("/")||(s="/"+s);const a=c+s;n.innerHTML=`\n            <h3 class="search-result-title">\n                <a href="${a}" class="search-result-link">${g(e.title,t)}</a>\n            </h3>\n            <div class="search-result-meta">\n                <span class="search-result-date">${r}</span>\n                ${e.category?`<span class="search-result-category">${e.category}</span>`:""}\n            </div>\n            ${e.tags&&e.tags.length>0?`<div class="search-result-tags">\n                    ${e.tags.map((e=>`<span class="search-result-tag">${e}</span>`)).join("")}\n                </div>`:""}\n        `,o.appendChild(n)})),n.appendChild(o),c.appendChild(n)}function g(e,t){if(!e)return"";const n=new RegExp(`(${y(t)})`,"gi");return e.replace(n,"<mark>$1</mark>")}function y(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function v(){document.querySelectorAll(".article-content h2, .article-content h3, .article-content h4").forEach(((e,t)=>{if(!e.id){const n=e.textContent.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");e.id=`heading-${n}-${t}`}e.classList.add("scroll-target")}))}function L(){const e=document.querySelector(".toc-content");if(!e)return;const t=document.createElement("div");t.className="toc-marker",e.appendChild(t)}function w(){document.querySelectorAll(".toc-list-item a").forEach((e=>{e.classList.remove("toc-link"),e.classList.add("toc-href");const t=A();e.insertBefore(t,e.firstChild)}))}function b(){const e=Array.from(document.querySelectorAll(".article-content h2, .article-content h3, .article-content h4"));if(0===e.length)return;const t=window.scrollY+150;let n=null;for(let o=0;o<e.length;o++){const r=e[o],c=e[o+1],s=r.offsetTop,a=c?c.offsetTop:document.body.scrollHeight;if(t>=s&&t<a){n=r;break}}if(!n&&e.length>0){for(const o of e)if(o.offsetTop>t){n=o;break}n||(n=e[e.length-1])}E(n)}function E(e){if(!e)return;const t=document.querySelectorAll(".toc-href"),n=document.querySelector(".toc-marker");t.forEach((e=>{e.classList.remove("toc-reading")}));const o=document.querySelector(`.toc-href[href="#${e.id}"]`);if(o&&(o.classList.add("toc-reading"),T(o),n)){const e=o.offsetTop;n.style.transform=`translateY(${e}px)`}}function T(e){const t=Array.from(document.querySelectorAll(".toc-href")),n=t.indexOf(e);t.forEach(((e,t)=>{t<n?e.classList.add("toc-already-read"):e.classList.remove("toc-already-read")}))}function A(){const e=document.createElement("span");return e.className="toc-icon",e.innerHTML='\n        <svg viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg">\n            <line x1="0" y1="12" x2="8" y2="12" class="toc-line"></line>\n            <circle cx="14" cy="12" r="4" class="toc-dot"></circle>\n        </svg>\n    ',e}function C(e,t){let n;return function(){const o=this,r=arguments;clearTimeout(n),n=setTimeout((()=>{e.apply(o,r)}),t)}}document.addEventListener("DOMContentLoaded",(()=>{i(),s.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),d()}))})),a&&a.addEventListener("click",u),n.addEventListener("click",m),o.addEventListener("submit",(e=>{e.preventDefault(),f(r.value)})),r.addEventListener("input",(e=>{clearTimeout(h),h=setTimeout((()=>{f(e.target.value)}),200)})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&n.classList.contains("show")&&u()}))})),document.addEventListener("DOMContentLoaded",(function(){if(!document.querySelector(".toc-container"))return;0!==document.querySelectorAll(".toc-list-item").length&&(v(),L(),w(),window.addEventListener("scroll",C(b,100)),b())})),(()=>{const e=(e,t)=>{"function"==typeof window.debugLog&&window.debugLog(e,t)};e("TOC","TOC başlatılıyor...");const t=document.querySelector(".toc-container");if(!t)return void e("TOC","TOC container bulunamadı");const n=t.querySelectorAll("a.toc-href");if(e("TOC",`TOC linkleri: ${n.length}`),!n.length)return void e("TOC","TOC linkleri bulunamadı");n.forEach(((t,n)=>{e("TOC",`Link ${n}: ${t.href} - ${t.textContent}`),t.insertAdjacentHTML("afterbegin",'\n    <svg viewBox="0 0 24 24" class="toc-icon">\n        <circle cx="4" cy="12" r="2" class="toc-dot"/>\n        <line x1="6" y1="12" x2="18" y2="12" class="toc-line"/>\n    </svg>\n  ')}));const o=Array.from(n).map((t=>{const n=t.getAttribute("href").slice(1),o=document.getElementById(n);return e("TOC",`Başlık ${n}: ${o?"bulundu":"bulunamadı"}`),{id:n,header:o,link:t}})).filter((e=>e.header));e("TOC",`Eşleşen başlık sayısı: ${o.length}`);const r=()=>{const n=window.scrollY+200;let r=null,c=null;for(const e of o){if(!(e.header.offsetTop<=n))break;c=r,r=e}r?(e("TOC",`Aktif başlık: ${r.id}`),o.forEach((({header:e,link:s},a)=>{if(e.offsetTop<n){s.classList.add("toc-already-read");const t=o[a+1]?.header,r=t?Math.min(100,(n-e.offsetTop)/(t.offsetTop-e.offsetTop)*100):100,c=s.querySelector("circle");c&&c.setAttribute("stroke-dashoffset",Math.round(100-r))}else s.classList.remove("toc-already-read");if(e===r.header){s.classList.add("toc-reading");const e=s.parentElement,n=t.getBoundingClientRect(),o=e.getBoundingClientRect(),a=c&&c.header.offsetTop>r.header.offsetTop;if(o.top<n.top||o.bottom>n.bottom){const n=a?.7*t.clientHeight:.3*t.clientHeight;t.scrollTo({top:e.offsetTop-n,behavior:"smooth"})}}else s.classList.remove("toc-reading")}))):e("TOC","Aktif başlık bulunamadı")};let c;window.addEventListener("scroll",(()=>{c&&window.cancelAnimationFrame(c),c=requestAnimationFrame((()=>{e("TOC",`Scroll pozisyonu: ${window.scrollY}`),r()}))}),{passive:!0}),n.forEach((t=>{t.addEventListener("click",(n=>{n.preventDefault();const o=t.getAttribute("href").slice(1),r=document.getElementById(o);r&&(e("TOC",`Tıklanan başlık: ${o}`),n.stopPropagation(),window.scrollTo({top:r.offsetTop-100,behavior:"smooth"}),history.pushState?history.pushState(null,null,`#${o}`):location.hash=`#${o}`)}))})),e("TOC","TOC ilk güncelleme yapılıyor..."),r()})(),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".toc-container");if(!e)return;let t;function n(e){e.preventDefault();const t=this.getAttribute("href").slice(1),n=document.getElementById(t);n&&(e.stopPropagation(),window.scrollTo({top:n.offsetTop-100,behavior:"smooth"}),history.pushState?history.pushState(null,null,`#${t}`):location.hash=`#${t}`)}function o(){const t=window.scrollY+150,n=Array.from(document.querySelectorAll(".article-content h2, .article-content h3, .article-content h4"));if(0===n.length)return;let o=null,r=null;for(let e=0;e<n.length;e++){const c=n[e],s=n[e+1],a=c.offsetTop,i=s?s.offsetTop:document.body.scrollHeight;if(t>=a&&t<i){r=o,o=c;break}}if(!o&&n.length>0){for(const e of n)if(e.offsetTop>t){o=e;break}o||(o=n[n.length-1])}!function(t,n,o){if(!t)return;const r=document.querySelectorAll(".toc-href"),c=document.querySelector(".toc-marker");r.forEach((e=>{e.classList.remove("toc-reading")}));const s=document.querySelector(`.toc-href[href="#${t.id}"]`);if(!s)return;if(s.classList.add("toc-reading"),function(e,t,n){const o=Array.from(t),r=o.indexOf(e);o.forEach(((e,t)=>{const c=e.getAttribute("href").slice(1),s=document.getElementById(c);if(s)if(t<r){e.classList.add("toc-already-read");const t=e.querySelector("circle");t&&t.setAttribute("stroke-dashoffset","0")}else if(t===r){e.classList.add("toc-already-read");const r=document.getElementById(o[t+1]?.getAttribute("href").slice(1));if(r){const t=Math.min(100,(n-s.offsetTop)/(r.offsetTop-s.offsetTop)*100),o=e.querySelector("circle");o&&o.setAttribute("stroke-dashoffset",Math.round(100-t))}}else e.classList.remove("toc-already-read")}))}(s,r,o),c){const e=s.offsetTop;c.style.transform=`translateY(${e}px)`}!function(t,n){const o=t.parentElement,r=e.getBoundingClientRect(),c=o.getBoundingClientRect(),s=n&&n.offsetTop>o.offsetTop;if(c.top<r.top||c.bottom>r.bottom){const t=s?.7*e.clientHeight:.3*e.clientHeight;e.scrollTo({top:o.offsetTop-t,behavior:"smooth"})}}(s,n)}(o,r,t)}document.querySelectorAll(".article-content h2, .article-content h3, .article-content h4").forEach(((e,t)=>{if(!e.id){const n=e.textContent.toLowerCase().replace(/[^\w\s-]/g,"").replace(/\s+/g,"-");e.id=`heading-${n}-${t}`}e.classList.add("scroll-target")})),function(){const e=document.querySelector(".toc-content");if(!e)return;const t=document.createElement("div");t.className="toc-marker",e.appendChild(t)}(),function(){const t=e.querySelectorAll(".toc-list-item a");if(0===t.length)return;t.forEach((e=>{e.classList.remove("toc-link"),e.classList.add("toc-href"),e.insertAdjacentHTML("afterbegin",'\n        <svg viewBox="0 0 24 24" width="18" height="18" xmlns="http://www.w3.org/2000/svg">\n            <line x1="0" y1="12" x2="8" y2="12" class="toc-line"></line>\n            <circle cx="14" cy="12" r="4" class="toc-dot"></circle>\n        </svg>\n        '),e.addEventListener("click",n)})),function(){const t=e.querySelectorAll("a.toc-href");Array.from(t).map((e=>{const t=e.getAttribute("href").slice(1);return{id:t,header:document.getElementById(t),link:e}})).filter((e=>e.header))}()}(),window.addEventListener("scroll",(()=>{t&&window.cancelAnimationFrame(t),t=requestAnimationFrame((()=>{o()}))}),{passive:!0}),o()}));