"use strict";document.addEventListener("DOMContentLoaded",function(){if(document.querySelector("#mastodon-id-finder"))return;const n=document.querySelector("#mastodon-metabox");if(!n)return;const t=document.createElement("div");t.id="mastodon-id-finder",t.className="card bg-base-100 shadow-xs mt-4",t.innerHTML='\n            <div class="card-body p-4">\n                <h3 class="text-xl font-bold mb-3 flex items-center">\n                    <iconify-icon icon="tabler:puzzle" class="mr-2"></iconify-icon>\n                    Mastodon ID Bulucu\n                </h3>\n                <div class="space-y-4">\n                    <div class="form-control">\n                        <label class="label">\n                            <span class="label-text">Mastodon URL\'si</span>\n                        </label>\n                        <input type="text" id="mastodon-url-input" placeholder="https://mastodon.social/@user/123456789" class="input input-bordered w-full">\n                    </div>\n                    <div class="flex gap-2">\n                        <button id="extract-mastodon-id" class="btn btn-primary flex-1">\n                            <iconify-icon icon="tabler:code" class="mr-2"></iconify-icon>\n                            ID Çıkar\n                        </button>\n                        <button id="copy-mastodon-id" class="btn btn-outline" disabled>\n                            <iconify-icon icon="tabler:copy" class="mr-2"></iconify-icon>\n                            Kopyala\n                        </button>\n                    </div>\n                    <div id="mastodon-result" class="hidden">\n                        <div class="form-control">\n                            <label class="label">\n                                <span class="label-text">Toot ID</span>\n                            </label>\n                            <input type="text" id="mastodon-id-result" readonly class="input input-bordered w-full bg-base-200">\n                        </div>\n                        <div class="form-control mt-2">\n                            <label class="label">\n                                <span class="label-text">Makale Meta Verisi İçin</span>\n                            </label>\n                            <input type="text" id="mastodon-meta-result" readonly class="input input-bordered w-full bg-base-200">\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ',n.appendChild(t);const e=document.getElementById("extract-mastodon-id"),o=document.getElementById("copy-mastodon-id"),a=document.getElementById("mastodon-url-input"),s=document.getElementById("mastodon-result"),i=document.getElementById("mastodon-id-result"),l=document.getElementById("mastodon-meta-result");e.addEventListener("click",function(){const n=a.value.trim();if(n)try{const t=new URL(n),e=t.pathname.split("/").filter(Boolean);if(e.length<2)throw new Error("Geçersiz Mastodon URL formatı");const a=e[e.length-1];e[e.length-2].replace("@",""),t.hostname,i.value=a,l.value="Mastodon_Link: ".concat(n),s.classList.remove("hidden"),o.removeAttribute("disabled")}catch(n){alert("Geçersiz URL: "+n.message)}else alert("Lütfen bir Mastodon URL'si girin")}),o.addEventListener("click",function(){const n=l.value;navigator.clipboard.writeText(n).then(function(){const n=o.innerHTML;o.innerHTML='<iconify-icon icon="tabler:check" class="mr-2"></iconify-icon> Kopyalandı!',setTimeout(function(){o.innerHTML=n},2e3)}).catch(function(n){alert("Kopyalama hatası: "+n)})})});