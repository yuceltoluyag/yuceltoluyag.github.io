"use strict";!function(){const n="-WNw5YpxvCMIj8LDM0bScg",e="https://webmention.io/api/mentions.jf2?token=".concat(n,"&per-page=20");function t(){const t=document.createElement("div");function a(n){return n.includes("localhost:8000")?n.replace("http://localhost:8000","https://yuceltoluyag.github.io"):n}t.className="fixed bottom-5 right-5 w-11/12 max-w-md max-h-[80vh] overflow-y-auto bg-base-100 rounded-xl shadow-xl p-5 z-50";const c=document.createElement("h3");c.textContent="Webmention Test Aracı",c.className="text-xl font-semibold mb-4 pb-2 border-b border-base-200 text-primary",t.appendChild(c);const o=document.createElement("div");o.className="mb-5";const s=document.createElement("label");s.textContent="Test edilecek URL:",s.className="block mb-2 text-sm font-medium opacity-70",o.appendChild(s);const l=document.createElement("input");l.type="text",l.value=a(window.location.href.split("#")[0].split("?")[0]),l.className="input input-bordered w-full mb-3",o.appendChild(l);const r=document.createElement("div");r.className="mb-4 text-xs opacity-70",window.location.href.includes("localhost")&&(r.innerHTML='\n                <div class="alert alert-warning alert-xs p-2">\n                    <div>\n                        <iconify-icon icon="tabler:info-circle" class="mr-1"></iconify-icon>\n                        <span>Localhost ortamında test yapıyorsunuz. URL otomatik olarak production adresine çevrildi.</span>\n                    </div>\n                </div>\n                <div class="mt-1 text-xs">Production URL: <span class="text-primary">'.concat(a(window.location.href).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),"</span></div>\n            ")),o.appendChild(r);const d=document.createElement("div");d.className="flex gap-2 flex-wrap mb-5";const m=document.createElement("button");m.textContent="Bu URL için Göster",m.className="btn btn-primary btn-sm flex-1",d.appendChild(m);const p=document.createElement("button");p.textContent="Tüm Webmention'lar",p.className="btn btn-success btn-sm flex-1",d.appendChild(p),o.appendChild(d),t.appendChild(o);const v=document.createElement("div");v.className="bg-base-200 rounded-md p-3 max-h-[50vh] overflow-y-auto",t.appendChild(v);const h=document.createElement("button");h.innerHTML="&times;",h.className="btn btn-circle btn-ghost btn-xs absolute right-2 top-2 opacity-70 hover:bg-error hover:text-white",h.addEventListener("click",()=>t.remove()),t.appendChild(h),m.addEventListener("click",()=>{!function(e,t){t.innerHTML='\n            <div class="flex flex-col items-center justify-center p-8 text-center">\n                <div class="relative w-16 h-16 mb-4">\n                    <div class="absolute inset-0 flex items-center justify-center">\n                        <iconify-icon icon="tabler:messages" width="32" height="32" class="text-primary"></iconify-icon>\n                    </div>\n                    <svg class="animate-spin-slow absolute inset-0 w-16 h-16" viewBox="0 0 100 100">\n                        <circle class="opacity-25" cx="50" cy="50" r="40" stroke="currentColor" stroke-width="8" fill="none"></circle>\n                        <circle class="text-primary" cx="50" cy="50" r="40" stroke="currentColor" stroke-width="8" fill="none" stroke-dasharray="60 160"></circle>\n                    </svg>\n                </div>\n                <p class="text-primary font-medium mb-1">Webmention\'lar Yükleniyor</p>\n                <p class="text-xs opacity-70">Lütfen bekleyin...</p>\n            </div>\n        ';const a="https://webmention.io/api/mentions.jf2?target=".concat(encodeURIComponent(e),"&token=").concat(n);fetch(a).then(n=>n.json()).then(n=>{i(n,t)}).catch(n=>{t.innerHTML='\n                    <div class="alert alert-error shadow-sm">\n                        <div class="flex gap-2 items-center">\n                            <iconify-icon icon="tabler:alert-triangle" width="24" height="24" class="animate-pulse"></iconify-icon>\n                            <div>\n                                <div class="font-medium">İşlem Başarısız</div>\n                                <div class="text-xs opacity-80">Hata: '.concat(n.message,"</div>\n                            </div>\n                        </div>\n                    </div>\n                "),console.error("Webmention API hatası:",n)})}(l.value,v)}),p.addEventListener("click",()=>{!function(n){n.innerHTML='\n            <div class="flex flex-col items-center justify-center p-8 text-center">\n                <div class="relative w-16 h-16 mb-4">\n                    <div class="absolute inset-0 flex items-center justify-center">\n                        <iconify-icon icon="tabler:messages" width="32" height="32" class="text-primary"></iconify-icon>\n                    </div>\n                    <svg class="animate-spin-slow absolute inset-0 w-16 h-16" viewBox="0 0 100 100">\n                        <circle class="opacity-25" cx="50" cy="50" r="40" stroke="currentColor" stroke-width="8" fill="none"></circle>\n                        <circle class="text-primary" cx="50" cy="50" r="40" stroke="currentColor" stroke-width="8" fill="none" stroke-dasharray="60 160"></circle>\n                    </svg>\n                </div>\n                <p class="text-primary font-medium mb-1">Tüm Webmention\'lar Yükleniyor</p>\n                <p class="text-xs opacity-70">Lütfen bekleyin...</p>\n            </div>\n        ',fetch(e).then(n=>n.json()).then(e=>{i(e,n)}).catch(e=>{n.innerHTML='\n                    <div class="alert alert-error shadow-sm">\n                        <div class="flex gap-2 items-center">\n                            <iconify-icon icon="tabler:alert-triangle" width="24" height="24" class="animate-pulse"></iconify-icon>\n                            <div>\n                                <div class="font-medium">İşlem Başarısız</div>\n                                <div class="text-xs opacity-80">Hata: '.concat(e.message,"</div>\n                            </div>\n                        </div>\n                    </div>\n                "),console.error("Webmention API hatası:",e)})}(v)}),document.body.appendChild(t)}function i(n,e){if(!n.children||0===n.children.length)return void(e.innerHTML='\n                <div class="card bg-base-200 shadow-sm p-5 relative overflow-hidden">\n                    <div class="flex items-center gap-4">\n                        <div class="text-primary bg-primary/10 p-3 rounded-full animate-pulse">\n                            <iconify-icon icon="tabler:message-circle-off" width="28" height="28"></iconify-icon>\n                        </div>\n                        <div>\n                            <div class="font-medium text-xl">Hiç webmention bulunamadı</div>\n                            <div class="text-xs opacity-70">\n                                Webmention göndermek için bu sayfaya bağlantı veren bir blog yazısı yayınlayın.\n                            </div>\n                        </div>\n                    </div>\n                    <div class="absolute -bottom-2 -right-2 opacity-10 transform rotate-12">\n                        <iconify-icon icon="tabler:message-circle-2" width="32" height="32" class="inline-block"></iconify-icon>\n                    </div>\n                    <div class="absolute bottom-6 right-6 opacity-5 transform -rotate-12">\n                        <iconify-icon icon="tabler:message-dots" width="24" height="24" class="inline-block"></iconify-icon>\n                    </div>\n                </div>\n            ');const t=n.children;let i='\n            <div class="alert alert-info mb-4">\n                <div class="flex items-center gap-2">\n                    <div class="animate-bounce">\n                        <iconify-icon icon="tabler:confetti" class="mr-2" width="20" height="20"></iconify-icon>\n                    </div>\n                    <span class="font-medium">'.concat(t.length,' webmention bulundu</span>\n                </div>\n            </div>\n            <div class="space-y-4">\n        ');t.forEach(n=>{i+='\n                <div class="card bg-base-100 shadow-sm hover:shadow-md transition-all duration-300">\n                    <div class="card-body p-4">\n                        <div class="flex items-center gap-3">\n                            '.concat(n.author&&n.author.photo?'\n                                    <div class="avatar">\n                                        <div class="w-10 h-10 rounded-full ring ring-primary ring-offset-base-100 ring-offset-2">\n                                            <img src="'.concat(n.author.photo,'" alt="').concat(n.author.name||"Yazar",'">\n                                        </div>\n                                    </div>'):'\n                                    <div class="avatar placeholder">\n                                        <div class="w-10 h-10 rounded-full bg-primary text-primary-content">\n                                            <iconify-icon icon="tabler:user" class="w-6 h-6"></iconify-icon>\n                                        </div>\n                                    </div>','\n                            <div class="flex-1">\n                                ').concat(n.author&&n.author.name?'<div class="font-medium">'.concat(n.author.name,"</div>"):'<div class="font-medium">Anonim</div>',"\n                                ").concat(n.published?'<div class="text-xs opacity-60">'.concat(new Date(n.published).toLocaleString("tr-TR",{year:"numeric",month:"long",day:"numeric"}),"</div>"):"","\n                            </div>\n                        </div>\n                        ").concat(n.content&&n.content.text?'<div class="mt-3 p-3 bg-base-200 rounded-md text-sm">'.concat(n.content.text,"</div>"):"",'\n                        <div class="flex justify-between items-center mt-2 text-xs">\n                            <a href="').concat(n.url,'" target="_blank" class="btn btn-xs btn-ghost gap-1 hover:bg-primary/10">\n                                <iconify-icon icon="tabler:external-link" class="text-primary"></iconify-icon> Kaynağa git\n                            </a>\n                            <div class="opacity-60 flex items-center gap-1">\n                                <iconify-icon icon="tabler:link"></iconify-icon>\n                                ').concat(n.target.split("//")[1].split("/")[0],"\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ")}),i+="</div>",e.innerHTML=i;const a=document.createElement("style");a.textContent="\n            @keyframes pulse {\n                0%, 100% { opacity: 1; }\n                50% { opacity: .7; }\n            }\n            .animate-pulse {\n                animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n            }\n            @keyframes bounce {\n                0%, 100% { transform: translateY(0); }\n                50% { transform: translateY(-25%); }\n            }\n            .animate-bounce {\n                animation: bounce 1s ease-in-out infinite;\n            }\n            @keyframes spin-slow {\n                from { transform: rotate(0deg); }\n                to { transform: rotate(360deg); }\n            }\n            .animate-spin-slow {\n                animation: spin-slow 3s linear infinite;\n            }\n        ",document.head.appendChild(a)}console.log("Webmention API Test Aracı"),console.log("-------------------------"),console.log("API Endpoint:",e),window.addEventListener("load",function(){const n=document.createElement("div");n.className="fixed bottom-5 right-5 z-50";const e=document.createElement("button");e.className="btn btn-primary btn-sm gap-2 shadow-md",e.innerHTML='<iconify-icon icon="tabler:messages" width="18" height="18"></iconify-icon> Webmention Test',n.appendChild(e),e.addEventListener("click",()=>{n.remove(),t()}),document.body.appendChild(n)})}();