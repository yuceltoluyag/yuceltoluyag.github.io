{% extends "base.html" %} {% block title %}{{ article.title }} - {{ SITENAME }}{% endblock %} {% block head %}
<!-- Sadece makale sayfalarında kod vurgulama CSS'ini ekle -->
{% endblock %} {% block content %}
<div class="container article-container">
    <div class="article-grid">
        <aside class="article-sidebar">
            {% if article.toc %}
            <div class="toc-container sidebar-widget">
                <div class="toc-header">
                    <h3 class="toc-title">
                        <iconify-icon icon="tabler:list" class="toc-title-icon"></iconify-icon>
                        İçindekiler
                    </h3>
                </div>
                <div class="toc-content">{{ article.toc }}</div>
            </div>
            {% endif %}

            <div class="sidebar-widget recent-posts">
                <h3 class="widget-title">
                    <iconify-icon icon="tabler:article"></iconify-icon>
                    Son Yazılar
                </h3>
                <div class="sidebar-posts">
                    {% for article in articles[:5] %}
                    <a href="{{ SITEURL }}/{{ article.url }}" class="sidebar-post">
                        <div class="sidebar-post-title">{{ article.title }}</div>
                        <div class="sidebar-post-meta">
                            <iconify-icon icon="tabler:calendar" width="14" height="14"></iconify-icon>
                            {{ article.date|strftime('%d %B %Y') }}
                        </div>
                    </a>
                    {% endfor %}
                </div>
            </div>

            {% if article.category %}
            <div class="sidebar-widget related-posts">
                <h3 class="widget-title">
                    <iconify-icon icon="tabler:copy"></iconify-icon>
                    Benzer Yazılar
                </h3>
                <div class="sidebar-posts">
                    {% for related in articles if related.category == article.category and related != article %} {% if
                    loop.index <= 4 %}
                    <a href="{{ SITEURL }}/{{ related.url }}" class="sidebar-post">
                        <div class="sidebar-post-title">{{ related.title }}</div>
                        <div class="sidebar-post-meta">
                            <iconify-icon icon="tabler:calendar" width="14" height="14"></iconify-icon>
                            {{ related.date|strftime('%d %B %Y') }}
                        </div>
                    </a>
                    {% endif %} {% endfor %}
                </div>
            </div>
            {% endif %}
        </aside>

        <div class="article-main">
            <article class="article">
                <header class="article-header">
                    <h1 class="article-title">{{ article.title }}</h1>

                    <div class="article-meta">
                        <div class="meta-item meta-date">
                            <iconify-icon icon="tabler:calendar"></iconify-icon>
                            <time datetime="{{ article.date.isoformat() }}">
                                {{ article.date|strftime('%d %B %Y') }}
                            </time>
                        </div>

                        {% if article.modified %}
                        <div class="meta-item meta-modified">
                            <iconify-icon icon="tabler:history"></iconify-icon>
                            <time datetime="{{ article.modified.isoformat() }}">
                                {{ article.modified|strftime('%d %B %Y') }}
                            </time>
                        </div>
                        {% endif %} {% if article.category %}
                        <div class="meta-item meta-category">
                            <iconify-icon icon="tabler:folder"></iconify-icon>
                            <a href="{{ SITEURL }}/kategori/{{ article.category.slug }}/">{{ article.category }}</a>
                        </div>
                        {% endif %} {% if article.series %}
                        <div class="meta-item meta-series">
                            <iconify-icon icon="tabler:list-numbers"></iconify-icon>
                            <span>
                                {{ article.series.name }} ({{ article.series.index }}/{{ article.series.all|length }})
                            </span>
                        </div>
                        {% endif %} {% if article.statistics is defined %}
                        <div class="meta-item meta-wordcount">
                            <iconify-icon icon="tabler:text-recognition"></iconify-icon>
                            <span>{{ article.statistics.wc }} kelime</span>
                        </div>

                        <div class="meta-item meta-readtime">
                            <iconify-icon icon="tabler:clock"></iconify-icon>
                            <span>{{ article.statistics.read_mins }} dakika</span>
                        </div>

                        <div class="meta-item meta-difficulty">
                            <iconify-icon icon="tabler:chart-bar"></iconify-icon>
                            <span>Seviye {{ article.statistics.fk }}</span>
                        </div>
                        {% endif %} {% if ARTICLE_EDIT_LINK %}
                        <div class="meta-item meta-edit">
                            <iconify-icon icon="tabler:edit"></iconify-icon>
                            <a href="{{ ARTICLE_EDIT_LINK|format(slug=article.slug) }}" target="_blank" rel="noopener">
                                Düzenle
                            </a>
                        </div>
                        {% endif %}
                    </div>
                </header>

                {% if article.series %}
                <div class="article-series">
                    <h2 class="series-title">{{ article.series.name }} Serisi</h2>
                    <ol class="series-list">
                        {% for article_in_series in article.series.all %}
                        <li class="series-item {% if article_in_series == article %}series-item-current{% endif %}">
                            {% if article_in_series == article %}
                            <span class="series-current-title">{{ article_in_series.title }}</span>
                            {% else %}
                            <a href="{{ SITEURL }}/{{ article_in_series.url }}" class="series-link">
                                {{ article_in_series.title }}
                            </a>
                            {% endif %}
                        </li>
                        {% endfor %}
                    </ol>
                </div>
                {% endif %}

                <div class="article-content">{{ article.content }}</div>
            </article>
        </div>
    </div>
</div>

<style>
    /* Minimal yan panel yazı stilleri */
    .sidebar-posts {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .sidebar-post {
        display: block;
        text-decoration: none;
        color: inherit;
        border-bottom: 1px solid var(--color-border, #eee);
        padding-bottom: 0.75rem;
        transition: transform 0.15s ease;
    }

    .sidebar-post:hover {
        transform: translateX(2px);
    }

    .sidebar-post:last-child {
        border-bottom: none;
    }

    .sidebar-post-title {
        font-weight: 500;
        margin-bottom: 0.3rem;
        line-height: 1.4;
    }

    .sidebar-post-meta {
        font-size: 0.8rem;
        color: var(--color-text-light, #718096);
        display: flex;
        align-items: center;
        gap: 0.3rem;
    }
</style>
{% endblock %}
